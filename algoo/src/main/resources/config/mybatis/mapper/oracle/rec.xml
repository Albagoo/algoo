<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mybatis.mapper.oracle.rec">
	
	<select id="selectRecByCode" parameterType="String"
	resultType="RecVO">
	select * from  RECRUITMENT 
   where REC_CODE=#{recCode}
	</select>
	
	<select id="selectCompanyByCode" parameterType="String"
	resultType="CompanyVO">
	  select * from company
	  where comp_code=#{compCode}
	</select>
	
	<select id="selectServiceByCode" parameterType="String"
	resultType="ServiceVO">
	  select service_code,grade,deadline, 
	  trunc(deadline-sysdate)as days from service
	  where service_code=#{serviceCode}
	</select>
	
	<insert id="insertRec" parameterType="RecVO">
	<selectKey>
	select COM||trim(TO_CHAR(COMPANY_seq.nextval,'00000') ) from dual
	</selectKey>
	
	insert into RECRUITMENT
	(rec_Code,comp_Name,title,job_Name,job_Name2,
	job_Name3,zipcode,address,address_Detail,sub_Region,
	sub_Num,sub_Name,sub_Info,work_Term,work_Days,work_Time,
	work_Time2,work_Time3,work_Time4,pay,recruit_Type,
	welfare,gender,age,educate_Lv,career,
	preference,recruit_Member,recruit_Person,recruit_Method,documents,
	detail_Recruit,comp_Code,service_Code
	)
	values(
   , #{compName},#{title},#{jobName},#{jobName2},
#{jobName3},#{zipcode},#{address},#{addressDetail},#{subRegion},
#{subNum},#{subName},#{subInfo},#{workTerm},#{workDays},#{workTime},
#{workTime2},#{workTime3},#{workTime4},#{pay},#{recruitType},
#{welfare},#{gender},#{age},#{educateLv},#{career},
#{preference},#{recruitMember},#{recruitPerson},#{recruitMethod},#{documents},
#{detailRecruit},#{compCode},#{serviceCode}
       )
	</insert>
</mapper>